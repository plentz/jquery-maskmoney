/*
 *  jquery-maskmoney - v3.0.2
 *  jQuery plugin to mask data entry in the input text in the form of money (currency)
 *  https://github.com/plentz/jquery-maskmoney
 *
 *  Made by Diego Plentz
 *  Under MIT License
 */
!function($){"use strict";$.browser||($.browser={},$.browser.mozilla=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase()),$.browser.webkit=/webkit/.test(navigator.userAgent.toLowerCase()),$.browser.opera=/opera/.test(navigator.userAgent.toLowerCase()),$.browser.msie=/msie/.test(navigator.userAgent.toLowerCase()));var a={destroy:function(){return $(this).unbind(".maskMoney"),$.browser.msie&&(this.onpaste=null),this},mask:function(a){return this.each(function(){var b=$(this);return"number"==typeof a&&b.val(a),b.trigger("mask")})},unmasked:function(){return this.map(function(){var a,b=$(this).val()||"0",c=b.indexOf("-")!==-1;return $(b.split(/\D/).reverse()).each(function(b,c){if(c)return a=c,!1}),b=b.replace(/\D/g,""),b=b.replace(new RegExp(a+"$"),"."+a),c&&(b="-"+b),parseFloat(b)})},init:function(a){return a=$.extend({prefix:"",suffix:"",affixesStay:!0,thousands:",",decimal:".",precision:2,allowZero:!1,allowNegative:!1},a),this.each(function(){function b(){var a,b,c,d,e,f=z.get(0),g=0,h=0;return"number"==typeof f.selectionStart&&"number"==typeof f.selectionEnd?(g=f.selectionStart,h=f.selectionEnd):(b=document.selection.createRange())&&b.parentElement()===f&&(d=f.value.length,a=f.value.replace(/\r\n/g,"\n"),c=f.createTextRange(),c.moveToBookmark(b.getBookmark()),e=f.createTextRange(),e.collapse(!1),c.compareEndPoints("StartToEnd",e)>-1?g=h=d:(g=-c.moveStart("character",-d),g+=a.slice(0,g).split("\n").length-1,c.compareEndPoints("EndToEnd",e)>-1?h=d:(h=-c.moveEnd("character",-d),h+=a.slice(0,h).split("\n").length-1))),{start:g,end:h}}function c(){var a=!(z.val().length>=z.attr("maxlength")&&z.attr("maxlength")>=0),c=b(),d=c.start,e=c.end,f=!(c.start===c.end||!z.val().substring(d,e).match(/\d/)),g="0"===z.val().substring(0,1);return a||f||g}function d(a){z.each(function(b,c){if(c.setSelectionRange)c.focus(),c.setSelectionRange(a,a);else if(c.createTextRange){var d=c.createTextRange();d.collapse(!0),d.moveEnd("character",a),d.moveStart("character",a),d.select()}})}function e(a){var b="";return a.indexOf("-")>-1&&(a=a.replace("-",""),b="-"),a.indexOf(x.prefix)>-1&&(a=a.replace(x.prefix,"")),a.indexOf(x.suffix)>-1&&(a=a.replace(x.suffix,"")),b+x.prefix+a+x.suffix}function f(a){return x.reverse?h(a):g(a)}function g(a){var b,c,d,f=a.indexOf("-")>-1&&x.allowNegative?"-":"",g=a.replace(/[^0-9]/g,""),h=g.slice(0,g.length-x.precision);return b=i(h,f),x.precision>0&&(c=g.slice(g.length-x.precision),d=new Array(x.precision+1-c.length).join(0),b+=x.decimal+d+c),e(b)}function h(a){var b,c=a.indexOf("-")>-1&&x.allowNegative?"-":"",d=a.replace(x.prefix,"").replace(x.suffix,""),f=d.split(x.decimal)[0],g="";if(b=i(f,c),x.precision>0){var h=a.split(x.decimal);h.length>1&&(g=h[1]),b+=x.decimal+g}return b=(+b).toFixed(x.precision),e(b)}function i(a,b){return a=a.replace(/^0*/g,""),a=a.replace(/\B(?=(\d{3})+(?!\d))/g,x.thousands),""===a&&(a="0"),b+a}function j(a){var b,c=z.val().length;z.val(f(z.val())),b=z.val().length,x.reverse?a+=1:a-=c-b,d(a)}function k(){var a=z.val();x.precision>0&&a.indexOf(x.decimal)<0&&(a+=x.decimal+new Array(x.precision+1).join(0)),z.val(f(a))}function l(){var a=z.val();return x.allowNegative?""!==a&&"-"===a.charAt(0)?a.replace("-",""):"-"+a:a}function m(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function n(a){a=a||window.event;var b=a.which||a.charCode||a.keyCode,d=x.decimal.charCodeAt(0);return void 0!==b&&(!(b<48||b>57)||b===d&&x.reverse?!!c()&&((b!==d||!o())&&(!!x.formatOnBlur||(m(a),p(a),!1))):q(b,a))}function o(){return z.val().indexOf(x.decimal)>-1}function p(a){a=a||window.event;var c,d,e,f,g=a.which||a.charCode||a.keyCode,h="";g>=48&&g<=57&&(h=String.fromCharCode(g)),c=b(),d=c.start,e=c.end,f=z.val(),z.val(f.substring(0,d)+h+f.substring(e,f.length)),j(d+1)}function q(a,b){return 45===a?(z.val(l()),!1):43===a?(z.val(z.val().replace("-","")),!1):13===a||9===a||(!(!$.browser.mozilla||37!==a&&39!==a||0!==b.charCode)||(m(b),!0))}function r(a){a=a||window.event;var c,d,e,f,g,h=a.which||a.charCode||a.keyCode;return void 0!==h&&(c=b(),d=c.start,e=c.end,8!==h&&46!==h&&63272!==h||(m(a),f=z.val(),d===e&&(8===h?""===x.suffix?d-=1:(g=f.split("").reverse().join("").search(/\d/),d=f.length-g-1,e=d+1):e+=1),z.val(f.substring(0,d)+f.substring(e,f.length)),j(d),!1))}function s(){y=z.val(),k();var a,b=z.get(0);b.createTextRange&&(a=b.createTextRange(),a.collapse(!1),a.select())}function t(){setTimeout(function(){k()},0)}function u(){return(parseFloat("0")/Math.pow(10,x.precision)).toFixed(x.precision).replace(new RegExp("\\.","g"),x.decimal)}function v(a){if($.browser.msie&&n(a),x.formatOnBlur&&z.val()!==y&&(p(a),z.unbind("blur.maskMoney",v),z.blur(),z.bind("blur.maskMoney",v)),""===z.val()||z.val()===e(u()))x.allowZero?x.affixesStay?z.val(e(u())):z.val(u()):z.val("");else if(!x.affixesStay){var b=z.val().replace(x.prefix,"").replace(x.suffix,"");z.val(b)}z.val()!==y&&z.change()}function w(){var a,b=z.get(0);b.setSelectionRange?(a=z.val().length,b.setSelectionRange(a,a)):z.val(z.val())}var x,y,z=$(this);x=$.extend({},a),x=$.extend(x,z.data()),z.unbind(".maskMoney"),z.bind("keypress.maskMoney",n),z.bind("keydown.maskMoney",r),z.bind("blur.maskMoney",v),z.bind("focus.maskMoney",s),z.bind("click.maskMoney",w),z.bind("cut.maskMoney",t),z.bind("paste.maskMoney",t),z.bind("mask.maskMoney",k)})}};$.fn.maskMoney=function(b){return a[b]?a[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void $.error("Method "+b+" does not exist on jQuery.maskMoney"):a.init.apply(this,arguments)}}(window.jQuery||window.Zepto);